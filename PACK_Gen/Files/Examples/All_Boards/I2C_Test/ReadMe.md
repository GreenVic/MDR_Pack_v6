# Пример работы с интерфейсом I2C

Пример проверяет реализацию функций I2C, в связке с микросхемой цифровых часов DS1307.
По кнопке UP (Key1) стирается счетчик секунд.
По кнопке Right (Key2) считывается счетчик секунд. Результат выводится через UART в окно терминала (программы Terminal или Putty).

Реализованы функции синхронной и асинхронной работы (через обработчик IRQ) с I2C. Режим синхронный/асинхронный переключается с каждым нажатием на кнопку Up, совместно со стиранием счетчика. Считывание счетчика по кнопке Right всегда происходит в текущем режиме.

В асинхронном режиме функция запускает трансфер по I2C и возвращает управление, не дожидаясь окончания обмена. Все необходимые операции дальше происходят по прерыванию от блока I2C. По окончанию передачи из прерывания вызывается CallBack,чтобы проинформировать запускающий поток об окончании передачи. Либо можно в общем цикле поллингом опрашивать статус окончания обмена.