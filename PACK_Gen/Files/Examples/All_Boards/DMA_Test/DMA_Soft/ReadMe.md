# Пример копирования массивов памяти через DMA.

DMA настраивается в режиме AutoRequest, т.е. при подаче одного програмного запроса на передачу DMA передается весь массив данных. Программный запрос можно сформировать для любого канала. В примере используются 0, 1, 2 каналы, но могут быть выбраны любые другие.

В 1986ВЕ1Т и 1986ВЕ3Т DMA имеет доступ только к области ОЗУ которая начинается с адреса 0x2010_0000. Поэтому в проектах для данных МК подключены скаттер файлы для линкера, которые задают расположение массивов данных и управляющих структур каналов в этой области памяти. У скаттер файлов (MDR1986VE1T_sctr.txt) изменено расширение на *.txt потому что файлы с этими расширениями не пропускают почтовые службы, считая их потенциально опасными.

## Функционал
По кнопке UP (Key1) по очереди копируются массивы максимальной длинны 1024 разной размерности - байт, 16-битные данные, 32-битные данные. После этого проверяется что данные в массивах-приемниках совпадают с данными в массивах-источниках.

По кнопке Right (Key2) происходит запуск копирования массивов друг за другом, не дожидаясь окончания передачи. После этого производится цикл ожидания завершения работы каналов - проверка по маске выбраных каналов. (Тест бесполезен, потому что скорее всего запуск предшевствующего копирования уже заканчивается к моменту запуска следующего. Т.е. параллельной работы каналов не происходит. Оставлен просто как факт того, что так можно сделать.)

Индикация:
  LED1 - мигает когда DMA не работает
  LED1 и LED2 - зажигаются перед стартом копирования данных (проскакивает очень быстро)
  LED2 - выключается если данные совпали, если есть ошибки - то остается гореть показывая что была ошибка.
  LED3 - зажигается в прерывании, сбрасывается вместе с периодом мигания LED1. Показывает, что происходит вход в обработчик прерывания DMA по окончанию циклов, но это не приводит к зависанию исполнения в обработчике. Прерывания здесь не используются, обработчик представлен лишь для показа возникновения прерывания. Можно отключить.

В 1986ВЕ4У и 1986ВЕ93У всего 1 и 2 светодиода на плате, поэтому индикация немного другая.
В 1986ВЕ4У, в случае ошибки при передаче данных светодиод LED1 загораются на ~3 секунды. Если зависнет впрерывании то LED1 будет непрерывно гореть. мигание LED1 - холостой ход.
В 1986ВЕ93У функционвл светодиода LED3 совмещен с LED2.
