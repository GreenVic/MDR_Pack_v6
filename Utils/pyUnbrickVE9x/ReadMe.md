# "Стиратель" флеш памяти по UART

Приложение на Python чтобы стереть flash память 1986ВЕ9х, 1901ВЦ1Т через UART загрузчик. (Если доступ по JTAG оказался заблокированным - https://startmilandr.ru/doku.php/prog:debug:reanimation)

Порядок действий:
  * Установить Python и библиотеки (pySide2, pySerial), как описано тут - https://startmilandr.ru/doku.php/prog:uart:uart_cli
  * Выставить на плате режим загрузки через UART (пины MODE)
  * Подключить UART порт к COM порту РС
  * Подать питание на плату
  * Приложение запустить через Run.bat (ПОСЛЕ подключения UART к РС, т.к. программа при старте опрашивает присутствующие в системе СОМ порты и выводит их в выпадающем списке для возможности выбора).
  * Выбрать СОМ порт, если он не соответствует необходимому.
  * Нажать Connect для подключения к СОМ порту. Индикатор(квадрат) должен стать зеленым.
  * Нажать кнопку Clear Flash
  * Лог выводится в поле под кнопкой. При выводе "Application started" запускается стирание памяти в микроконтроллере, что занимает меньше секунды.

Принтскрин приложения в pyUnbrickVE9x.png. Лог должен получиться как на принтскрине. Если вываливаются ошибки, то МК необходимо обресетить и заново нажать кнопку Clear Flash. Иногда помогает отжать-нажать Connect.

При нажатии на кнопку Clear Flash в микроконтроллер загружается программа FlashClearVE9x.bin, которая стирает флеш память. Исходники этой программы, находятся в директории FlashClearVE9x.

В питоне реализованы действия описанные в данной статье - https://startmilandr.ru/doku.php/prog:uart:run_ram_uart

Программа так-же может использоваться для загрузки по UART в ОЗУ и запуску любой другой прошивки. Для этого в файле pyWindowClass.py в переменной sBinFileName необходимо указать загружаемый бинарный файл. В качестве примера можно загрузить LED_Flasher_VC1.bin в отладочную плату 1901ВЦ1Т. После загрузки будет мигать первый светодиод на плате.



